(function(){var n;n=angular.module("infinite-scroll",[]),n.value("THROTTLE_MILLISECONDS",null),n.directive("infiniteScroll",["$rootScope","$window","$timeout","THROTTLE_MILLISECONDS",function(n,e,t,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"="},link:function(l,o,c){var r,u,a,f,m,s,d,S,v,g,w,D,$,h,p,T,C;return C=angular.element(e),$=null,h=null,u=null,a=null,g=!0,T=!1,v=function(n){return n=n[0]||n,isNaN(n.offsetHeight)?n.document.documentElement.clientHeight:n.offsetHeight},w=function(n){return n[0].getBoundingClientRect&&!n.css("none")?n[0].getBoundingClientRect().top+D(n):void 0},D=function(n){return n=n[0]||n,isNaN(window.pageYOffset)?n.document.documentElement.scrollTop:n.ownerDocument.defaultView.pageYOffset},S=function(){var e,t,i,c,r;return a===C?(e=v(a)+D(a[0].document.documentElement),i=w(o)+v(o)):(e=v(a),t=0,void 0!==w(a)&&(t=w(a)),i=w(o)-t+v(o)),T&&(i=v((o[0].ownerDocument||o[0].document).documentElement)),c=i-e,r=c<=v(a)*$+1,r?(u=!0,h?l.$$phase||n.$$phase?l.infiniteScroll():l.$apply(l.infiniteScroll):void 0):u=!1},p=function(n,e){var i,l,o;return o=null,l=0,i=function(){var e;return l=(new Date).getTime(),t.cancel(o),o=null,n.call(),e=null},function(){var c,r;return c=(new Date).getTime(),r=e-(c-l),0>=r?(clearTimeout(o),t.cancel(o),o=null,l=c,n.call()):o?void 0:o=t(i,r)}},null!=i&&(S=p(S,i)),l.$on("$destroy",function(){return a.off("scroll",S)}),s=function(n){return $=parseFloat(n)||0},l.$watch("infiniteScrollDistance",s),s(l.infiniteScrollDistance),m=function(n){return h=!n,h&&u?(u=!1,S()):void 0},l.$watch("infiniteScrollDisabled",m),m(l.infiniteScrollDisabled),d=function(n){return T=n},l.$watch("infiniteScrollUseDocumentBottom",d),d(l.infiniteScrollUseDocumentBottom),r=function(n){return null!=a&&a.off("scroll",S),a="function"==typeof n.last&&n!==C?n.last():n,null!=n?a.on("scroll",S):void 0},r(C),f=function(n){if(null!=n&&0!==n.length){if(n=angular.element(document.querySelector(n)),null!=n)return r(n);throw new Exception("invalid infinite-scroll-container attribute.")}},l.$watch("infiniteScrollContainer",f),f(l.infiniteScrollContainer||[]),null!=c.infiniteScrollParent&&r(angular.element(o.parent())),null!=c.infiniteScrollImmediateCheck&&(g=l.$eval(c.infiniteScrollImmediateCheck)),t(function(){return g?S():void 0},0)}}}])}).call(this);